name: ":Publish SARIF results to GitHub"
description: "Publish SARIF results from .NET code analysis to GitHub actions as annotations and summary markdown"

inputs:
  report-path:
    description: "Path to SARIF report file generated by code analysis (e.g., ./report)"
    required: true
    default: "."

  report-name:
    description: "Full report name with extension (e.g., 'dotnet_report.sarif')"
    required: true
    default: "dotnet_report.sarif"

  report-title:
    description: "Name for the report artifact (used in GitHub Actions)"
    required: false
    default: "report-sarif"

runs:
  using: "composite"
  steps:
    - name: Create Full Report And Annotate Results
      if: always()
      uses: intellegens-hr/actions/bin/actions/dotnet-sarif-md@master
      with:
        github-token: ${{ secrets.GITHUB_TOKEN }}
        report-path: ${{ inputs.report-path }}/${{ inputs.report-name }}
